{
  "modelName": "AnkiVNModel_Flashcard",
  "css": "/* --- MODERN GAMIFICATION THEME (Vibrance & Fun) --- */\n:root {\n    /* --- LIGHT MODE PALETTE --- */\n    --bg-canvas: #f0f4f8;       /* Xám xanh nhạt nền nã */\n    --card-bg: #ffffff;         \n    \n    --text-primary: #2d3748;    /* Xám đậm dễ đọc */\n    --text-secondary: #718096;  \n    --text-muted: #a0aec0;      \n    \n    /* Primary Accent - Màu chủ đạo (Xanh dương hiện đại) */\n    --accent-color: #4299e1;    \n    --accent-bg: #ebf8ff;       \n    --accent-hover: #3182ce;\n\n    /* Secondary Accent - Màu nhấn phụ (Cam năng động cho POS/Button) */\n    --secondary-accent: #ed8936;\n    --secondary-bg: #fffaf0;\n\n    --border-color: #e2e8f0;    \n    \n    --button-bg: #edf2f7;       \n    --button-hover: #e2e8f0;\n    \n    --border-radius: 16px;      /* Bo góc tròn trịa hơn */\n    --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n    --shadow-md: 0 4px 6px rgba(0,0,0,0.1);\n    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);\n    \n    --font-main: \"Nunito\", \"Segoe UI\", \"Helvetica Neue\", Arial, sans-serif; /* Font tròn trịa thân thiện */\n}\n\n/* --- NIGHT MODE PALETTE --- */\n.nightMode {\n    --bg-canvas: #1a202c;       /* Xám đen sâu */\n    --card-bg: #2d3748;         /* Xám xanh tối */\n    \n    --text-primary: #f7fafc;\n    --text-secondary: #cbd5e0;\n    --text-muted: #718096;\n    \n    --accent-color: #63b3ed;    /* Xanh sáng hơn cho nền tối */\n    --accent-bg: #2c5282;\n    --accent-hover: #4299e1;\n\n    --secondary-accent: #f6ad55;\n    --secondary-bg: #7b341e;\n\n    --border-color: #4a5568;\n    \n    --button-bg: #4a5568;\n    --button-hover: #718096;\n    \n    --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);\n    --shadow-md: 0 4px 6px rgba(0,0,0,0.3);\n    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.4);\n}\n\n/* --- LAYOUT --- */\n.card {\n    font-family: var(--font-main);\n    font-size: 17px; \n    background-color: var(--bg-canvas); \n    color: var(--text-primary);\n    line-height: 1.6;\n    margin: 0;\n    padding: 20px 10px;\n    display: flex;\n    justify-content: center;\n    align-items: flex-start; /* Căn lề trên cùng thay vì center */\n    min-height: auto; \n    padding-top: 40px; /* Thêm padding top để card không dính sát mép trên */\n    padding-bottom: 40px;\n    word-wrap: break-word;\n}\n\n/* Trên mobile, giảm padding và font size */\n@media (max-width: 600px) {\n    .card {\n        padding: 8px 6px 30px 6px;\n        font-size: 15px;\n    }\n    \n    .card-container {\n        padding: 16px;\n        border-radius: 12px;\n        gap: 12px;\n    }\n    \n    .word {\n        font-size: 1.6em;\n    }\n    \n    .vietnamese-text {\n        font-size: 1.2em;\n    }\n    \n    .header-image-container {\n        width: 50px;\n        height: 50px;\n    }\n}\n\n.card-container {\n    background-color: var(--card-bg);\n    border-radius: var(--border-radius);\n    box-shadow: var(--shadow-lg); \n    border: 1px solid var(--border-color); \n    padding: 20px; \n    width: 100%;\n    max-width: 480px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    gap: 15px; \n    position: relative;\n    transition: transform 0.2s ease; \n}\n\n/* --- HEADER --- */\n.header-group {\n    border-bottom: 2px dashed var(--border-color); \n    padding-bottom: 12px;\n    margin-bottom: 0px; \n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-start;\n    gap: 15px;\n}\n\n.header-text { flex: 1; display: flex; flex-direction: column; min-width: 0; }\n\n.header-image-container {\n    width: 60px; height: 60px; /* Nhỏ lại chút cho gọn */\n    flex-shrink: 0;\n    border-radius: 12px; overflow: hidden;\n    border: 2px solid var(--border-color); \n    background-color: var(--bg-canvas); margin: 0;\n    box-shadow: var(--shadow-sm);\n}\n.header-image-container img { width: 100%; height: 100%; object-fit: cover; display: block; }\n\n.word-row { display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap; }\n.word { \n    font-size: 2em; /* Giảm nhẹ size chữ */\n    font-weight: 800; \n    color: var(--accent-color); \n    margin: 0; \n    line-height: 1.1; \n    letter-spacing: -0.5px;\n}\n.pos { \n    font-size: 0.75em; \n    font-weight: 700; \n    text-transform: uppercase; \n    color: #fff; \n    background: linear-gradient(135deg, var(--secondary-accent), #dd6b20); \n    padding: 3px 8px; \n    border-radius: 15px; \n    position: relative; \n    top: -5px; \n    box-shadow: 0 2px 4px rgba(237, 137, 54, 0.3);\n}\n\n.ipa-row { display: flex; align-items: center; gap: 8px; margin-top: 4px; flex-wrap: wrap; }\n.ipa { \n    font-family: \"Lucida Sans Unicode\", sans-serif; \n    color: var(--text-secondary); \n    font-size: 1em; \n    background-color: var(--accent-bg);\n    padding: 2px 6px;\n    border-radius: 6px;\n}\n\n/* --- VIETNAMESE MEANING --- */\n.vietnamese-text {\n    font-size: 1.4em; \n    color: var(--text-primary); \n    font-weight: 700; \n    line-height: 1.3;\n    text-align: left;\n    margin-top: 0px; \n    margin-bottom: 5px;\n    padding-left: 10px; \n    border-left: 4px solid var(--secondary-accent); \n}\n\n/* --- SECTIONS & CONTENT --- */\n.section { display: flex; flex-direction: column; gap: 6px; width: 100%; margin-top: 5px; }\n.section-label { \n    font-size: 0.75em; \n    font-weight: 800; \n    text-transform: uppercase; \n    color: var(--text-muted); \n    letter-spacing: 1px; \n    margin-bottom: 2px; \n    margin-left: 5px;\n}\n\n.content-box {\n    background-color: var(--bg-canvas);\n    padding: 12px; /* Giảm padding */\n    border-radius: var(--border-radius); \n    border: 1px solid transparent; \n    width: 100%; box-sizing: border-box;\n    transition: all 0.2s ease;\n}\n\n/* Hover chỉ trên desktop (có chuột) */\n@media (hover: hover) {\n    .content-box:hover {\n        background-color: #fff;\n        border-color: var(--accent-color);\n        box-shadow: var(--shadow-md);\n        transform: translateY(-2px); \n    }\n    \n    .nightMode .content-box:hover {\n        background-color: var(--card-bg);\n        border-color: var(--accent-color);\n    }\n}\n\n/* UPDATE: Tăng tương phản cho text tiếng Anh */\n.text-en { \n    font-size: 1.05em; \n    color: var(--text-primary); \n    font-weight: 500; /* Giảm độ đậm mặc định (từ 600 xuống 500) */\n    margin-bottom: 6px; \n    line-height: 1.4; \n}\n\n/* UPDATE: Highlight mạnh cho từ in đậm trong Definition/Example */\n.text-en b, .text-en strong {\n    color: var(--accent-color); /* Tô màu xanh chủ đạo */\n    font-weight: 800; /* Tăng độ đậm lên mức cao nhất */\n}\n\n.text-vi { \n    font-size: 0.95em; \n    color: var(--text-secondary); \n    font-weight: 400; \n    padding-top: 6px; \n    border-top: 1px dashed var(--border-color); \n    font-style: italic;\n}\n\n/* Buttons & Footer */\n/* --- NÚT AUDIO TỐI ƯU (Compact & Cross-platform) --- */\n.replay-button {\n    /* Reset */\n    all: unset;\n    box-sizing: border-box;\n    \n    /* Layout */\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    \n    /* Kích thước tương đối với font */\n    width: 2em;\n    height: 2em;\n    \n    /* Style */\n    background-color: var(--accent-bg);\n    border: 1px solid var(--border-color);\n    border-radius: 0.5em;\n    \n    /* Spacing */\n    margin: 0 0.3em;\n    padding: 0;\n    \n    /* Interaction */\n    cursor: pointer;\n    transition: all 0.15s ease;\n    -webkit-tap-highlight-color: transparent;\n    touch-action: manipulation;\n}\n\n/* Icon Play bằng CSS */\n.replay-button::after {\n    content: '';\n    display: block;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 0.35em 0 0.35em 0.55em;\n    border-color: transparent transparent transparent var(--accent-color);\n    margin-left: 0.1em;\n}\n\n/* Ẩn SVG mặc định */\n.replay-button svg { display: none !important; }\n\n/* Hover */\n.replay-button:hover {\n    background-color: var(--accent-color);\n    border-color: var(--accent-color);\n    transform: scale(1.05);\n}\n.replay-button:hover::after {\n    border-left-color: #fff;\n}\n\n/* Active */\n.replay-button:active {\n    transform: scale(0.92);\n    background-color: var(--accent-hover);\n    border-color: var(--accent-hover);\n}\n.replay-button:active::after {\n    border-left-color: #fff;\n}\n\n/* Night Mode */\n.nightMode .replay-button {\n    background-color: var(--button-bg);\n    border-color: var(--border-color);\n}\n.nightMode .replay-button:hover,\n.nightMode .replay-button:active {\n    background-color: var(--accent-color);\n    border-color: var(--accent-color);\n}\n\n.footer-info { \n    margin-top: 10px; \n    padding-top: 8px; \n    border-top: 1px solid var(--border-color); \n    font-size: 0.7em; \n    color: var(--text-muted); \n    text-align: center; \n    font-weight: 600;\n}\n.dictionary-content { font-size: 0.9em; color: var(--text-primary); line-height: 1.5; text-align: left; }\n.dictionary-content ul { padding-left: 18px; margin: 4px 0; }\n.dictionary-content b { color: var(--accent-color); font-weight: 700; }\n\n/* Inline fix */\n.text-en p, .text-en div, .text-vi p, .text-vi div { display: inline; margin: 0; padding: 0; }\n\n/* --- TYPING CARD STYLES --- */\n\n/* 1. Prompt Box (Front) */\n.prompt-box {\n    text-align: center;\n    margin: 10px 0;\n    background: var(--secondary-bg); \n    padding: 12px;\n    border-radius: var(--border-radius);\n    border: 1px solid var(--secondary-accent);\n}\n.nightMode .prompt-box {\n    background: rgba(246, 173, 85, 0.1);\n    border-color: var(--secondary-accent);\n}\n\n.prompt-label {\n    font-size: 0.75em;\n    font-weight: 700;\n    text-transform: uppercase;\n    color: var(--secondary-accent);\n    letter-spacing: 1px;\n    margin-bottom: 4px;\n}\n.vietnamese-text.center-text {\n    text-align: center;\n    margin-top: 0;\n    font-size: 1.6em; \n    color: var(--text-primary);\n    border: none; padding: 0; \n}\n\n/* 2. Hint Text (Front) */\n.hint-text {\n    font-style: italic;\n    color: var(--text-secondary);\n    font-size: 0.95em;\n    text-align: center;\n    background: var(--bg-canvas);\n    padding: 10px;\n    border-radius: var(--border-radius);\n    margin-bottom: 10px;\n    border: 1px dashed var(--border-color);\n}\n/* Style cho field cloze mới thêm */\n.cloze-word-hint {\n    font-weight: bold;\n    color: var(--accent-color);\n    font-size: 1.1em;\n    margin-bottom: 5px;\n}\n.cloze-meaning-hint {\n    margin-top: 5px;\n}\n\n/* 3. Input Field Customization (Quan trọng) */\ncenter { \n    display: block; \n    width: 100%;\n} \n\n.input-wrapper {\n    text-align: center;\n    width: 100%;\n}\n\n/* Style cho ô input chính */\ninput#typeans {\n    font-family: var(--font-main);\n    font-size: 1.2em;\n    font-weight: 600;\n    color: var(--text-primary);\n    background-color: #fff;\n    border: 2px solid var(--border-color);\n    border-radius: 12px;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n    outline: none;\n    box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);\n    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n\ninput#typeans:focus {\n    border-color: var(--accent-color);\n    box-shadow: 0 0 0 4px var(--accent-bg);\n}\n\n.nightMode input#typeans {\n    background-color: #2d3748;\n    color: white;\n    border-color: #4a5568;\n}\n.nightMode input#typeans:focus {\n    border-color: var(--accent-color);\n    box-shadow: 0 0 0 4px rgba(66, 153, 225, 0.3);\n}\n\n/* 4. Typing Result (Back) */\n.typing-result {\n    margin-bottom: 15px;\n    font-size: 1.4em; /* Tăng cỡ chữ to hơn */\n    text-align: center;\n    padding: 15px;\n    background: var(--bg-canvas);\n    border-radius: 12px;\n    border: 2px solid var(--accent-color); /* Thêm viền màu chủ đạo */\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); /* Thêm bóng đổ */\n}\n\n/* Code block so sánh của Anki */\n.typing-result code {\n    font-family: \"Consolas\", \"Monaco\", monospace;\n    background: transparent;\n    font-weight: bold;\n    letter-spacing: 1px;\n    line-height: 1.6;\n}\n\n/* Màu sắc đúng sai mặc định của Anki - Làm tươi hơn và dày hơn */\n.typeGood {\n    background-color: #c6f6d5;\n    color: #22543d;\n    padding: 4px 8px;\n    border-radius: 6px;\n    border-bottom: 3px solid #9ae6b4; /* Tăng độ dày viền dưới */\n    margin: 0 1px;\n}\n.typeBad {\n    background-color: #fed7d7;\n    color: #822727;\n    padding: 4px 8px;\n    border-radius: 6px;\n    border-bottom: 3px solid #feb2b2;\n    margin: 0 1px;\n}\n/* UPDATE: Sửa style cho typeMissed */\n.typeMissed {\n    background-color: #ffebcc; /* Vàng cam nhạt - Nổi bật hơn xám */\n    color: #9c4221; /* Cam đất đậm - Dễ đọc hơn */\n    padding: 4px 8px;\n    border-radius: 6px;\n    border-bottom: 3px solid #f6ad55; /* Viền cam đồng bộ */\n    text-decoration: none; /* Bỏ gạch ngang */\n    margin: 0 1px;\n}\n\n/* Night Mode Colors cho kết quả */\n.nightMode .typeGood { background-color: #22543d; color: #9ae6b4; border-bottom-color: #276749; }\n.nightMode .typeBad { background-color: #742a2a; color: #feb2b2; border-bottom-color: #9b2c2c; }\n/* UPDATE: Night Mode cho typeMissed */\n.nightMode .typeMissed { \n    background-color: #7b341e; /* Cam đất tối */\n    color: #fbd38d; /* Cam sáng */\n    border-bottom-color: #9c4221; \n}\n\n/* Custom Image Wrapper */\n.img-main-wrapper {\n    width: 100%;\n    margin-bottom: 12px;\n    border-radius: var(--border-radius);\n    overflow: hidden;\n    box-shadow: var(--shadow-md);\n    border: 3px solid #fff;\n    transition: transform 0.3s ease;\n}\n.img-main-wrapper:hover {\n    transform: scale(1.01);\n}\n.img-main-wrapper img {\n    width: 100%;\n    height: auto;\n    display: block;\n}\n\n/* --- SETTINGS MENU STYLES --- */\n.settings-btn {\n    position: fixed;\n    top: 50%;\n    right: 15px; /* Sát lề phải */\n    transform: translateY(-50%);\n    width: 44px; /* To hơn chút */\n    height: 44px;\n    background-color: #fff;\n    border: 1px solid var(--border-color);\n    box-shadow: var(--shadow-md);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 22px;\n    z-index: 999;\n    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n}\n.nightMode .settings-btn {\n    background-color: var(--card-bg);\n    color: var(--text-primary);\n}\n.settings-btn:hover {\n    background-color: var(--accent-bg);\n    color: var(--accent-color);\n    transform: translateY(-50%) rotate(90deg) scale(1.1); /* Xoay và phóng to */\n    box-shadow: var(--shadow-lg);\n}\n\n.settings-menu {\n    position: fixed;\n    top: 50%;\n    right: 75px; /* Cách nút setting */\n    transform: translateY(-50%) scale(0.9) translateX(20px); /* Hiệu ứng trượt */\n    transform-origin: right center;\n    background-color: rgba(255, 255, 255, 0.95); /* Kính mờ nhẹ */\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    padding: 20px;\n    border-radius: 16px;\n    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    width: 280px;\n    z-index: 998;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    opacity: 0;\n    pointer-events: none;\n    visibility: hidden;\n}\n\n.nightMode .settings-menu {\n    background-color: rgba(45, 55, 72, 0.95);\n    border-color: rgba(255, 255, 255, 0.1);\n}\n\n.settings-menu.active {\n    transform: translateY(-50%) scale(1) translateX(0);\n    opacity: 1;\n    pointer-events: auto;\n    visibility: visible;\n}\n\n.settings-header {\n    font-size: 0.85em;\n    font-weight: 800;\n    text-transform: uppercase;\n    color: var(--accent-color);\n    margin-bottom: 15px;\n    padding-bottom: 8px;\n    border-bottom: 2px solid var(--border-color);\n    text-align: left;\n    letter-spacing: 0.5px;\n}\n\n/* --- SWITCH UI (Công tắc) --- */\n/* Cập nhật style cho label để click được toàn vùng */\nlabel.setting-item {\n    display: flex;\n    justify-content: space-between; /* Đẩy text và switch ra 2 bên */\n    align-items: center;\n    margin-bottom: 12px;\n    font-size: 0.95em;\n    font-weight: 600;\n    color: var(--text-primary);\n    cursor: pointer; /* Quan trọng: biến con trỏ thành bàn tay */\n    padding: 8px 0;\n    transition: color 0.2s;\n    user-select: none; /* Tránh bôi đen text khi click liên tục */\n}\nlabel.setting-item:last-child {\n    margin-bottom: 0;\n}\nlabel.setting-item:hover {\n    color: var(--accent-color);\n}\n\n/* Ẩn checkbox mặc định */\n.setting-item input[type=\"checkbox\"] {\n    appearance: none;\n    -webkit-appearance: none;\n    width: 40px;\n    height: 22px;\n    background: #cbd5e0;\n    border-radius: 20px;\n    position: relative;\n    cursor: pointer;\n    outline: none;\n    transition: background 0.3s;\n    flex-shrink: 0; /* Không bị co lại */\n}\n\n/* Vòng tròn bên trong switch */\n.setting-item input[type=\"checkbox\"]::after {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 18px;\n    height: 18px;\n    background: white;\n    border-radius: 50%;\n    transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n    box-shadow: 0 1px 3px rgba(0,0,0,0.3);\n}\n\n/* Trạng thái Checked (Bật) */\n.setting-item input[type=\"checkbox\"]:checked {\n    background: var(--accent-color); /* Màu xanh accent */\n}\n\n.setting-item input[type=\"checkbox\"]:checked::after {\n    transform: translateX(18px); /* Di chuyển vòng tròn sang phải */\n}\n\n/* Night Mode cho Switch */\n.nightMode .setting-item input[type=\"checkbox\"] {\n    background: #4a5568;\n}\n.nightMode .setting-item input[type=\"checkbox\"]:checked {\n    background: var(--accent-color);\n}\n\n/* --- MOBILE RESPONSIVE SETTINGS BTN --- */\n@media (max-width: 600px) {\n    .settings-btn {\n        top: auto;        /* Bỏ top 50% */\n        bottom: 20px;     /* Nằm ở dưới cùng */\n        right: 20px;      /* Cách lề phải */\n        transform: none;  /* Bỏ transform center cũ */\n    }\n    \n    .settings-btn:hover {\n        /* Điều chỉnh hover cho mobile (nếu có chuột hoặc tap giữ) */\n        transform: rotate(90deg) scale(1.1);\n    }\n\n    /* Menu settings trượt từ dưới lên trên mobile */\n    .settings-menu {\n        top: auto;\n        bottom: 80px;      /* Nằm trên nút settings */\n        right: 20px;\n        transform-origin: bottom right; \n        transform: scale(0.9) translateY(20px);\n    }\n    \n    .settings-menu.active {\n        transform: scale(1) translateY(0);\n    }\n}",
  "isCloze": false,
  "inOrderFields": [
    "id",
    "word",
    "pos",
    "cloze",
    "vietnamese",
    "ipa",
    "meaning",
    "meaning_translated",
    "cloze_meaning",
    "example",
    "example_translated",
    "cloze_example",
    "image",
    "audio_word",
    "audio_meaning",
    "audio_example",
    "dictionary"
  ],
  "cardTemplates": [
    {
      "Name": "1. Review",
      "Front": "<!-- FRONT TEMPLATE FOR ANKI CARD 1 -->\n\n<div class=\"card-container\">\n    \n    <!-- HEADER -->\n    <div class=\"header-group\">\n        <div class=\"header-text\">\n            <div class=\"word-row\">\n                <span class=\"word\">{{word}}</span>\n                {{#pos}}<span class=\"pos\">{{pos}}</span>{{/pos}}\n            </div>\n            \n            <div class=\"ipa-row\" id=\"section-ipa\">\n                {{#ipa}}<span class=\"ipa\">/{{ipa}}/</span>{{/ipa}}\n                {{#audio_word}}{{audio_word}}{{/audio_word}}\n            </div>\n        </div>\n    </div>\n\n    <!-- MAIN IMAGE -->\n    {{#image}}\n    <div class=\"img-main-wrapper\" id=\"section-image\">\n        <img src=\"{{image}}\" alt=\"Mô tả ảnh\">\n    </div>\n    {{/image}}\n\n</div>\n\n<!-- Nút Settings -->\n<div class=\"settings-btn\" onclick=\"toggleSettingsMenu()\">⚙️</div>\n\n<!-- Menu Settings (Front Card 1) -->\n<div class=\"settings-menu\" id=\"settingsMenu\">\n    <div class=\"settings-header\">Tùy chỉnh hiển thị</div>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn Hình Ảnh</span>\n        <input type=\"checkbox\" id=\"hideImage\" onchange=\"toggleVisibility('section-image', 'hideImage')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn IPA & Audio</span>\n        <input type=\"checkbox\" id=\"hideIPA\" onchange=\"toggleVisibility('section-ipa', 'hideIPA')\">\n    </label>\n</div>\n\n<script>\n    function toggleSettingsMenu() {\n        document.getElementById('settingsMenu').classList.toggle('active');\n    }\n\n    function toggleVisibility(elementId, storageKey) {\n        var checkbox = document.getElementById(storageKey);\n        var element = document.getElementById(elementId);\n        \n        if (element) {\n            element.style.display = checkbox.checked ? 'none' : 'flex'; // IPA dùng flex\n            // Nếu là image (block) thì xử lý riêng hoặc để css tự lo\n            if (elementId === 'section-image') {\n                element.style.display = checkbox.checked ? 'none' : 'block';\n            }\n        }\n        \n        if (typeof(Storage) !== \"undefined\") {\n            localStorage.setItem(storageKey, checkbox.checked);\n        }\n    }\n\n    function loadSettings() {\n        var settingsMap = {\n            'hideImage': 'section-image',\n            'hideIPA': 'section-ipa'\n        };\n\n        for (var key in settingsMap) {\n            var isHidden = localStorage.getItem(key) === 'true';\n            var checkbox = document.getElementById(key);\n            var element = document.getElementById(settingsMap[key]);\n            var displayType = (key === 'hideIPA') ? 'flex' : 'block';\n\n            if (checkbox) checkbox.checked = isHidden;\n            if (element) element.style.display = isHidden ? 'none' : displayType;\n        }\n    }\n\n    loadSettings();\n</script>",
      "Back": "<!-- BACK TEMPLATE FOR ANKI CARD 1 -->\n\n<div class=\"card-container\">\n\n    <!-- 1. Header: Context -->\n    <div class=\"header-group\">\n        <div class=\"header-text\">\n            <div class=\"word-row\">\n                <span class=\"word\">{{word}}</span>\n                {{#pos}}<span class=\"pos\">{{pos}}</span>{{/pos}}\n            </div>\n            \n            <div class=\"ipa-row\" id=\"section-ipa-back\">\n                {{#ipa}}<span class=\"ipa\">/{{ipa}}/</span>{{/ipa}}\n                {{#audio_word}}{{audio_word}}{{/audio_word}}\n            </div>\n        </div>\n        \n        {{#image}}\n        <div class=\"header-image-container\" id=\"section-image-header\">\n        \t\t<img src=\"{{image}}\" alt=\"Mô tả ảnh\">\n        </div>\n        {{/image}}\n    </div>\n\n    <!-- 2. Answer: Vietnamese (Clean Text Only) -->\n    {{#vietnamese}}\n    <div class=\"vietnamese-text\" id=\"section-vietnamese\">\n        {{vietnamese}}\n    </div>\n    {{/vietnamese}}\n\n    <!-- 3. Details: Definition -->\n    {{#meaning}}\n    <div class=\"section\" id=\"section-definition\">\n        <div class=\"section-label\">Definition</div>\n        <div class=\"content-box\">\n            <div class=\"text-en\" id=\"section-def-en\">\n                {{meaning}} {{#audio_meaning}}{{audio_meaning}}{{/audio_meaning}}\n            </div>\n            {{#meaning_translated}}\n            <div class=\"text-vi\" id=\"section-def-vi\">{{meaning_translated}}</div>\n            {{/meaning_translated}}\n        </div>\n    </div>\n    {{/meaning}}\n\n    <!-- 4. Details: Example -->\n    {{#example}}\n    <div class=\"section\" id=\"section-example\">\n        <div class=\"section-label\">Example</div>\n        <div class=\"content-box\">\n            <div class=\"text-en\" id=\"section-ex-en\">\n                {{example}} {{#audio_example}}{{audio_example}}{{/audio_example}}\n            </div>\n            {{#example_translated}}\n            <div class=\"text-vi\" id=\"section-ex-vi\">{{example_translated}}</div>\n            {{/example_translated}}\n        </div>\n    </div>\n    {{/example}}\n\n    <!-- 5. Dictionary -->\n    {{#dictionary}}\n    <div class=\"section\" id=\"section-dictionary\">\n        <div class=\"section-label\">Dictionary</div>\n        <div class=\"content-box dictionary-content\">\n            {{dictionary}}\n        </div>\n    </div>\n    {{/dictionary}}\n\n    <!-- Footer -->\n    <div class=\"footer-info\" id=\"section-id\">\n        {{#id}}<div>ID: {{id}}</div>{{/id}}\n    </div>\n\n</div>\n\n<!-- Nút Settings -->\n<div class=\"settings-btn\" onclick=\"toggleSettingsMenu()\">⚙️</div>\n\n<!-- Menu Settings (Back Card 1) -->\n<div class=\"settings-menu\" id=\"settingsMenu\">\n    <div class=\"settings-header\">Tùy chỉnh hiển thị</div>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn IPA & Audio</span>\n        <input type=\"checkbox\" id=\"hideIPA\" onchange=\"toggleVisibility('section-ipa-back', 'hideIPA')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn Hình Ảnh (Góc)</span>\n        <input type=\"checkbox\" id=\"hideImgHeader\" onchange=\"toggleVisibility('section-image-header', 'hideImgHeader')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn Nghĩa Tiếng Việt</span>\n        <input type=\"checkbox\" id=\"hideVietnamese\" onchange=\"toggleVisibility('section-vietnamese', 'hideVietnamese')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn Definition</span>\n        <input type=\"checkbox\" id=\"hideDef\" onchange=\"toggleVisibility('section-definition', 'hideDef')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn Nghĩa Definition</span>\n        <input type=\"checkbox\" id=\"hideDefVi\" onchange=\"toggleVisibility('section-def-vi', 'hideDefVi')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn Ví Dụ</span>\n        <input type=\"checkbox\" id=\"hideEx\" onchange=\"toggleVisibility('section-example', 'hideEx')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn Nghĩa Ví Dụ</span>\n        <input type=\"checkbox\" id=\"hideExVi\" onchange=\"toggleVisibility('section-ex-vi', 'hideExVi')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn Dictionary</span>\n        <input type=\"checkbox\" id=\"hideDict\" onchange=\"toggleVisibility('section-dictionary', 'hideDict')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn ID</span>\n        <input type=\"checkbox\" id=\"hideID\" onchange=\"toggleVisibility('section-id', 'hideID')\">\n    </label>\n</div>\n\n<script>\n    function toggleSettingsMenu() {\n        document.getElementById('settingsMenu').classList.toggle('active');\n    }\n\n    function toggleVisibility(elementId, storageKey) {\n        var checkbox = document.getElementById(storageKey);\n        var element = document.getElementById(elementId);\n        \n        if (element) {\n            // Xử lý riêng cho IPA dùng flex, còn lại block\n            if (elementId === 'section-ipa-back') {\n                element.style.display = checkbox.checked ? 'none' : 'flex';\n            } else {\n                element.style.display = checkbox.checked ? 'none' : 'block';\n            }\n        }\n        \n        if (typeof(Storage) !== \"undefined\") {\n            localStorage.setItem(storageKey, checkbox.checked);\n        }\n    }\n\n    function loadSettings() {\n        var settingsMap = {\n            'hideIPA': 'section-ipa-back',\n            'hideImgHeader': 'section-image-header',\n            'hideVietnamese': 'section-vietnamese',\n            'hideDef': 'section-definition',\n            'hideDefVi': 'section-def-vi',\n            'hideEx': 'section-example',\n            'hideExVi': 'section-ex-vi',\n            'hideDict': 'section-dictionary',\n            'hideID': 'section-id'\n        };\n\n        for (var key in settingsMap) {\n            var isHidden = localStorage.getItem(key) === 'true';\n            var checkbox = document.getElementById(key);\n            var element = document.getElementById(settingsMap[key]);\n            var displayType = (key === 'hideIPA') ? 'flex' : 'block';\n\n            if (checkbox) checkbox.checked = isHidden;\n            if (element) element.style.display = isHidden ? 'none' : displayType;\n        }\n    }\n\n    loadSettings();\n</script>"
    },
    {
      "Name": "2. Typing",
      "Front": "<!-- FRONT TEMPLATE FOR ANKI CARD 2 -->\n\n<div class=\"card-container\">\n\n    <!-- 1. Ô nhập liệu (Input) -->\n    <div class=\"input-wrapper\">\n        {{type:word}}\n    </div>\n\n    <!-- 2. Prompt Box: Yêu cầu & Tiếng Việt -->\n    <div class=\"prompt-box\">\n        <div class=\"prompt-label\">Translate into English:</div>\n        <div class=\"vietnamese-text center-text\" id=\"section-vietnamese\">\n            {{vietnamese}}\n        </div>\n    </div>\n\n    <!-- 3. Hint Text: Gợi ý cloze & Ví dụ -->\n    <div class=\"hint-text\" id=\"section-cloze\">\n        <!-- Hiển thị Cloze Word (ví dụ: c _ _ ) -->\n        {{#cloze}}\n        <div class=\"cloze-word-hint\">{{cloze}}</div>\n        {{/cloze}}\n        \n        <!-- Hiển thị Cloze Meaning (câu ví dụ đục lỗ) -->\n        {{#cloze_meaning}}\n        <div class=\"cloze-meaning-hint\">{{cloze_meaning}}</div>\n        {{/cloze_meaning}}\n    </div>\n\n    <!-- 4. Ảnh minh họa -->\n    {{#image}}\n    <div class=\"img-main-wrapper\" id=\"section-image\">\n        <img src=\"{{image}}\" alt=\"Mô tả ảnh\">\n    </div>\n    {{/image}}\n\n</div>\n\n<!-- Nút Settings -->\n<div class=\"settings-btn\" onclick=\"toggleSettingsMenu()\">⚙️</div>\n\n<!-- Menu Settings (Front) -->\n<div class=\"settings-menu\" id=\"settingsMenu\">\n    <div class=\"settings-header\">Hiển thị / Ẩn</div>\n    \n    <!-- Sử dụng thẻ LABEL để click vào chữ cũng ăn -->\n    <label class=\"setting-item\">\n        <span>Nghĩa Tiếng Việt</span>\n        <input type=\"checkbox\" id=\"hideVietnamese\" onchange=\"toggleVisibility('section-vietnamese', 'hideVietnamese')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Gợi ý (Cloze)</span>\n        <input type=\"checkbox\" id=\"hideCloze\" onchange=\"toggleVisibility('section-cloze', 'hideCloze')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Hình Ảnh</span>\n        <input type=\"checkbox\" id=\"hideImage\" onchange=\"toggleVisibility('section-image', 'hideImage')\">\n    </label>\n</div>\n\n<script>\n    function toggleSettingsMenu() {\n        var menu = document.getElementById('settingsMenu');\n        menu.classList.toggle('active');\n    }\n\n    // Hàm xử lý khi checkbox thay đổi (onchange)\n    function toggleVisibility(elementId, storageKey) {\n        var element = document.getElementById(elementId);\n        var checkbox = document.getElementById(storageKey);\n        \n        if (!element) return;\n\n        // Cập nhật hiển thị dựa trên trạng thái checkbox\n        if (checkbox.checked) {\n            element.style.display = 'none';\n        } else {\n            element.style.display = 'block';\n        }\n\n        // Lưu trạng thái\n        if (typeof(Storage) !== \"undefined\") {\n            localStorage.setItem(storageKey, checkbox.checked);\n        }\n    }\n\n    function loadSettings() {\n        var settings = ['hideVietnamese', 'hideCloze', 'hideImage'];\n        settings.forEach(function(key) {\n            var isHidden = localStorage.getItem(key) === 'true';\n            var checkbox = document.getElementById(key);\n            var sectionId = '';\n\n            if (key === 'hideVietnamese') sectionId = 'section-vietnamese';\n            if (key === 'hideCloze') sectionId = 'section-cloze';\n            if (key === 'hideImage') sectionId = 'section-image';\n\n            if (checkbox) {\n                checkbox.checked = isHidden;\n                var element = document.getElementById(sectionId);\n                if (element) {\n                    element.style.display = isHidden ? 'none' : 'block';\n                }\n            }\n        });\n    }\n\n    loadSettings();\n</script>",
      "Back": "<!-- BACK TEMPLATE FOR ANKI CARD 2 -->\n\n<div class=\"card-container\">\n\n    <div class=\"header-group\">\n        <div class=\"header-text\">\n            <div class=\"word-row\">\n                <span class=\"word\">{{word}}</span>\n                {{#pos}}<span class=\"pos\">{{pos}}</span>{{/pos}}\n            </div>\n            \n            <div class=\"ipa-row\">\n                {{#ipa}}<span class=\"ipa\">/{{ipa}}/</span>{{/ipa}}\n                {{#audio_word}}{{audio_word}}{{/audio_word}}\n            </div>\n        </div>\n        \n        {{#image}}\n        <div class=\"header-image-container\" id=\"section-image-back\">\n        \t\t<img src=\"{{image}}\" alt=\"Mô tả ảnh\">\n        </div>\n        {{/image}}\n    </div>\n\n    <div class=\"typing-result\">\n        {{type:word}}\n    </div>\n\n    <!-- Definition Section -->\n    {{#meaning}}\n    <div class=\"section\" id=\"section-definition\">\n        <div class=\"section-label\">Definition</div>\n        <div class=\"content-box\">\n            <div class=\"text-en\" id=\"section-def-en\">\n                {{meaning}} {{#audio_meaning}}{{audio_meaning}}{{/audio_meaning}}\n            </div>\n            {{#meaning_translated}}\n            <div class=\"text-vi\" id=\"section-def-vi\">{{meaning_translated}}</div>\n            {{/meaning_translated}}\n        </div>\n    </div>\n    {{/meaning}}\n\n    <!-- Example Section -->\n    {{#example}}\n    <div class=\"section\" id=\"section-example\">\n        <div class=\"section-label\">Example</div>\n        <div class=\"content-box\">\n            <div class=\"text-en\" id=\"section-ex-en\">\n                {{example}} {{#audio_example}}{{audio_example}}{{/audio_example}}\n            </div>\n            {{#example_translated}}\n            <div class=\"text-vi\" id=\"section-ex-vi\">{{example_translated}}</div>\n            {{/example_translated}}\n        </div>\n    </div>\n    {{/example}}\n\n    <!-- Dictionary Section -->\n    {{#dictionary}}\n    <div class=\"section\" id=\"section-dictionary\">\n        <div class=\"section-label\">Dictionary</div>\n        <div class=\"content-box dictionary-content\">\n            {{dictionary}}\n        </div>\n    </div>\n    {{/dictionary}}\n\n    <div class=\"footer-info\" id=\"section-id\">\n        {{#id}}<div>ID: {{id}}</div>{{/id}}\n    </div>\n\n</div>\n\n<!-- Nút Settings -->\n<div class=\"settings-btn\" onclick=\"toggleSettingsMenu()\">⚙️</div>\n\n<!-- Menu Settings (Back) -->\n<div class=\"settings-menu\" id=\"settingsMenu\">\n    <div class=\"settings-header\">Tùy chỉnh hiển thị</div>\n    \n    <!-- Sử dụng LABEL và SPAN để căn chỉnh text trái - switch phải -->\n    <label class=\"setting-item\">\n        <span>Ẩn Definition</span>\n        <input type=\"checkbox\" id=\"hideDef\" onchange=\"toggleVisibility('section-definition', 'hideDef')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn Nghĩa Definition</span>\n        <input type=\"checkbox\" id=\"hideDefVi\" onchange=\"toggleVisibility('section-def-vi', 'hideDefVi')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn Ví Dụ</span>\n        <input type=\"checkbox\" id=\"hideEx\" onchange=\"toggleVisibility('section-example', 'hideEx')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn Nghĩa Ví Dụ</span>\n        <input type=\"checkbox\" id=\"hideExVi\" onchange=\"toggleVisibility('section-ex-vi', 'hideExVi')\">\n    </label>\n\n    <label class=\"setting-item\">\n        <span>Ẩn Dictionary</span>\n        <input type=\"checkbox\" id=\"hideDict\" onchange=\"toggleVisibility('section-dictionary', 'hideDict')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn Hình Ảnh</span>\n        <input type=\"checkbox\" id=\"hideImgBack\" onchange=\"toggleVisibility('section-image-back', 'hideImgBack')\">\n    </label>\n    \n    <label class=\"setting-item\">\n        <span>Ẩn ID</span>\n        <input type=\"checkbox\" id=\"hideID\" onchange=\"toggleVisibility('section-id', 'hideID')\">\n    </label>\n</div>\n\n<script>\n    function toggleSettingsMenu() {\n        document.getElementById('settingsMenu').classList.toggle('active');\n    }\n\n    function toggleVisibility(elementId, storageKey) {\n        var checkbox = document.getElementById(storageKey);\n        var element = document.getElementById(elementId);\n        \n        if (element) {\n            element.style.display = checkbox.checked ? 'none' : 'block';\n        }\n        \n        if (typeof(Storage) !== \"undefined\") {\n            localStorage.setItem(storageKey, checkbox.checked);\n        }\n    }\n\n    function loadSettings() {\n        var settingsMap = {\n            'hideDef': 'section-definition',\n            'hideDefVi': 'section-def-vi',\n            'hideEx': 'section-example',\n            'hideExVi': 'section-ex-vi',\n            'hideDict': 'section-dictionary',\n            'hideImgBack': 'section-image-back',\n            'hideID': 'section-id'\n        };\n\n        for (var key in settingsMap) {\n            var isHidden = localStorage.getItem(key) === 'true';\n            var checkbox = document.getElementById(key);\n            var element = document.getElementById(settingsMap[key]);\n\n            if (checkbox) checkbox.checked = isHidden;\n            if (element) element.style.display = isHidden ? 'none' : 'block';\n        }\n    }\n\n    loadSettings();\n</script>\n \n \n \n \n \n \n \n \n \n <script role='smarterTypeField' src=\"_smarterTypeField.min2024-11-28_02-08-05.js\" data-config=\"2026-01-04_23-20-28\"></script>"
    }
  ]
}
