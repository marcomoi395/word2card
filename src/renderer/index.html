<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Word2Card</title>
    </head>
    <body>
        <header
            style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 1px solid #ccc;
                padding: 5px;
            "
        >
            <div class="app-title">Word2Card</div>
            <div class="window-controls">
                <button id="settings-btn" title="Settings" onclick="switchTab('settings')">
                    ⚙️
                </button>
                <button id="minimize-btn" title="Minimize">_</button>
                <button id="close-btn" title="Close">X</button>
            </div>
        </header>

        <nav style="padding: 10px">
            <button id="tab-import-btn" onclick="switchTab('import')">File Import</button>
            <button id="tab-notion-btn" onclick="switchTab('notion')">Notion Sync</button>
        </nav>

        <main style="padding: 20px">
            <section id="section-import">
                <h2>File Import</h2>

                <form id="form-import">
                    <div class="form-group">
                        <label for="source-file">Source File</label><br />
                        <input
                            type="text"
                            id="source-file"
                            name="sourceFile"
                            placeholder="Path to file..."
                        />
                    </div>
                    <br />

                    <div class="form-group">
                        <label for="deck">Deck</label><br />
                        <input
                            type="text"
                            id="deck"
                            name="deck"
                            placeholder="Vocabulary::Reading"
                        />
                    </div>
                    <br />

                    <div class="options-group">
                        <input type="checkbox" id="chk-quiz-import" name="isQuiz" />
                        <label for="chk-quiz-import">Quiz</label>

                        <input
                            type="checkbox"
                            id="chk-flashcard-import"
                            name="isFlashcard"
                            style="margin-left: 10px"
                        />
                        <label for="chk-flashcard-import">Flashcard</label>
                    </div>
                    <br />

                    <button type="submit" id="btn-action-import">Import</button>
                </form>
            </section>

            <section id="section-notion" style="display: none">
                <h2>Notion Sync</h2>

                <form id="form-notion">
                    <div class="form-group">
                        <label for="notion-token">Integration Token</label><br />
                        <input
                            id="notion-token"
                            name="notionToken"
                            placeholder="secret_xxxxxxxxx"
                        />
                    </div>
                    <br />

                    <div class="form-group">
                        <label for="deck">Deck</label><br />
                        <input
                            type="text"
                            id="deck"
                            name="deck"
                            placeholder="Vocabulary::Reading"
                        />
                    </div>
                    <br />

                    <div
                        class="options-group"
                        style="display: flex; align-items: center; gap: 15px"
                    >
                        <div>
                            <input type="checkbox" id="chk-quiz-notion" name="isQuiz" />
                            <label for="chk-quiz-notion">Quiz</label>
                        </div>

                        <div>
                            <input type="checkbox" id="chk-flashcard-notion" name="isFlashcard" />
                            <label for="chk-flashcard-notion">Flashcard</label>
                        </div>

                        <div style="margin-left: auto">
                            <a href="#" id="link-template" target="_blank">Notion template</a>
                        </div>
                    </div>
                    <br />

                    <button type="submit" id="btn-action-sync">Sync</button>
                </form>
            </section>

            <section id="section-settings" style="display: none">
                <h2>Settings</h2>
                <form id="form-settings">
                    <div class="form-group">
                        <label for="openai-key-global">OpenAI API Key</label><br />
                        <input
                            type="text"
                            id="openai-key-global"
                            name="openaiKeyGlobal"
                            placeholder="sk-..."
                            style="width: 100%"
                        />
                    </div>
                    <br />

                    <div class="form-group">
                        <label for="azure-key-global">Azure API Key</label><br />
                        <input
                            type="text"
                            id="azure-key-global"
                            name="azureKeyGlobal"
                            placeholder="Azure Speech Key..."
                            style="width: 100%"
                        />
                    </div>
                    <br />

                    <button type="button" id="btn-save-settings">Save Keys</button>
                    <span id="save-status" style="margin-left: 10px; color: green; display: none"
                        >Saved!</span
                    >
                </form>
            </section>
        </main>
        <script type="module" src="./src/renderer.ts"></script>
        <script>
            function switchTab(tabName) {
                const importSection = document.getElementById('section-import')
                const notionSection = document.getElementById('section-notion')
                const settingsSection = document.getElementById('section-settings')

                importSection.style.display = 'none'
                notionSection.style.display = 'none'
                settingsSection.style.display = 'none'

                if (tabName === 'import') {
                    importSection.style.display = 'block'
                } else if (tabName === 'notion') {
                    notionSection.style.display = 'block'
                } else if (tabName === 'settings') {
                    settingsSection.style.display = 'block'
                }
            }
        </script>
    </body>
</html>
